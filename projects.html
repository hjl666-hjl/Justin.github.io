<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects - Justin Huang</title>
    <link rel="stylesheet" href="./css/apple-common.css">
    <link rel="stylesheet" href="./css/design.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <style>
        /* Specific overrides for this page */
        html, body { scroll-snap-type: none; height: auto; overflow-y: auto; }
        .page-section { height: auto; min-height: auto; padding-top: 100px; padding-bottom: 100px; display: block; }
        .hero-headline { color: #1d1d1f; -webkit-text-fill-color: initial; background: none; animation: none; opacity: 1; margin-top: 60px;}
        .section-content-wrapper { max-width: 1200px; }
        
        /* Fade in effect for cards */
        .project-card {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUpCard 0.6s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
        }
        
        @keyframes fadeUpCard {
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Stagger animations */
        .project-card:nth-child(1) { animation-delay: 0.1s; }
        .project-card:nth-child(2) { animation-delay: 0.2s; }
        .project-card:nth-child(3) { animation-delay: 0.3s; }
        .project-card:nth-child(4) { animation-delay: 0.4s; }
        .project-card:nth-child(5) { animation-delay: 0.5s; }
        .project-card:nth-child(6) { animation-delay: 0.6s; }
        .project-card:nth-child(7) { animation-delay: 0.7s; }
        .project-card:nth-child(8) { animation-delay: 0.8s; }
        .project-card:nth-child(9) { animation-delay: 0.9s; }
        .project-card:nth-child(10) { animation-delay: 1.0s; }
    </style>
</head>
<body>
    <div class="bg-decoration">
        <div class="blur-shape shape-1"></div>
        <div class="blur-shape shape-2"></div>
        <div class="grid-pattern"></div>
    </div>

    <nav class="globalnav">
        <div class="globalnav-content">
            <a href="./index.html" class="globalnav-link globalnav-logo">Justin</a>
            <ul class="globalnav-list">
                <li><a href="./projects.html" class="globalnav-link" style="color:#0066cc; opacity:1;">Projects</a></li>
                <li><a href="./about.html" class="globalnav-link">Skills</a></li>
                <li><a href="./about.html#story" class="globalnav-link">Story</a></li>
                <li><a href="./contact.html" class="globalnav-link">Contact</a></li>
            </ul>
        </div>
    </nav>

    <div class="section-content-wrapper">
        <h1 class="hero-headline" style="font-size: 56px; text-align: center; margin-bottom: 20px;">Selected Work.</h1>
        <p class="section-subtitle" style="text-align: center; margin-bottom: 60px;">A collection of projects, experiments, and ideas.</p>
        
        <div class="projects-gallery" id="projects-container">
            <!-- Projects will be loaded dynamically via JS -->
        </div>

        <footer class="footer-inline">
            <div class="footer-content">
                <div class="footer-columns">
                    <div class="footer-column">
                        <h4 class="footer-heading">Connect</h4>
                        <ul class="footer-links">
                            <li><a href="mailto:2474418338@qq.com">Email Me</a></li>
                            <li><a href="https://github.com/hjl666-hjl">GitHub</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4 class="footer-heading">Explore</h4>
                        <ul class="footer-links">
                            <li><a href="./index.html">Home</a></li>
                            <li><a href="./projects.html">Projects</a></li>
                            <li><a href="./blog.html">Blog</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>Copyright Â© 2024 Justin Huang.</p>
                    <p>Designed with Apple aesthetic.</p>
                </div>
            </div>
        </footer>
    </div>
    
    <script src="./js/jq.js"></script>
    <script src="./js/projects_data.js"></script>
    <script>
        $(window).scroll(function() {
            if ($(this).scrollTop() > 50) {
                $('.globalnav').addClass('scrolled');
            } else {
                $('.globalnav').removeClass('scrolled');
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            const container = document.getElementById('projects-container');
            if (window.PROJECTS_DATA && container) {
                let html = '';
                // Filter visible projects first
                const visibleProjects = window.PROJECTS_DATA.filter(p => p.visible !== false);
                
                visibleProjects.forEach((project, index) => {
                    // Determine link
                    let href = project.link;
                    let target = 'target="_blank"';
                    
                    if (!href) {
                        if (project.has_wiki) {
                            href = `./wiki.html?project=${project.id}`;
                            target = ''; // Same tab for wiki
                        } else {
                            href = '#';
                            target = ''; // No link
                        }
                    } else {
                        // If it's an internal link (relative), don't open blank
                        if (href.startsWith('./') || href.startsWith('#')) {
                            target = '';
                        }
                    }

                    // Stagger animation delay
                    const delay = (index + 1) * 0.1;

                    html += `
                    <a href="${href}" class="project-card" ${target} style="animation-delay: ${delay}s">
                        <div class="project-image-container">
                            <img src="${project.image}" alt="${project.title}">
                        </div>
                        <div class="project-info">
                            <div>
                                <span class="project-category">${project.category}</span>
                                <h3 class="project-title">${project.title}</h3>
                                <p class="project-desc">${project.description}</p>
                            </div>
                        </div>
                    </a>
                    `;
                });
                container.innerHTML = html;
            }
        });
    </script>
</body>
</html>